# Sentiment Analysis Model Builder Configuration
# Copy this file to .env and modify as needed

# Global Settings
LOG_LEVEL=INFO
OUTPUT_DIR=outputs
CACHE_DIR=.cache

# Data Configuration
DATA_INPUT_PATH=data/news_dataset_sample.json
DATA_INPUT_FORMAT=json
DATA_TEXT_COLUMN=text
DATA_LABEL_COLUMN=label
DATA_ID_COLUMN=id
DATA_TITLE_COLUMN=title
DATA_PUBLISHED_AT_COLUMN=published_at
DATA_TICKERS_COLUMN=tickers
DATA_SPLIT_COLUMN=split
DATA_VALIDATE_DATA=true
DATA_MAX_SAMPLES=

# Preprocessing Configuration
PREPROCESSING_REMOVE_HTML=true
PREPROCESSING_NORMALIZE_UNICODE=true
PREPROCESSING_LOWERCASE=true
PREPROCESSING_REMOVE_URLS=true
PREPROCESSING_REMOVE_EMAILS=true
PREPROCESSING_MAX_LENGTH=512
PREPROCESSING_MIN_LENGTH=10
PREPROCESSING_LABEL_MAPPING={"NEGATIVE": 0, "NEUTRAL": 1, "POSITIVE": 2}

# Training Configuration
TRAINING_BACKBONE=ProsusAI/finbert
TRAINING_BATCH_SIZE=16
TRAINING_EVAL_BATCH_SIZE=32
TRAINING_LEARNING_RATE=2e-5
TRAINING_NUM_EPOCHS=3
TRAINING_WARMUP_STEPS=500
TRAINING_WEIGHT_DECAY=0.01
TRAINING_GRADIENT_CLIP_VAL=1.0
TRAINING_TRAIN_SPLIT=0.7
TRAINING_VAL_SPLIT=0.15
TRAINING_TEST_SPLIT=0.15
TRAINING_RANDOM_SEED=42
TRAINING_EARLY_STOPPING_PATIENCE=3
TRAINING_EARLY_STOPPING_THRESHOLD=0.001
TRAINING_PRIMARY_METRIC=f1_macro

# Export Configuration
EXPORT_FORMAT=onnx
EXPORT_ONNX_OPSET_VERSION=17
EXPORT_ONNX_DYNAMIC_AXES=true
EXPORT_OUTPUT_DIR=models/exported
EXPORT_VALIDATE_EXPORT=true
EXPORT_TEST_BATCH_SIZE=1

# Registry Configuration (MLflow)
REGISTRY_TRACKING_URI=sqlite:///mlruns.db
REGISTRY_REGISTRY_URI=
REGISTRY_MODEL_NAME=crypto-news-sentiment
REGISTRY_MODEL_STAGE=Staging
REGISTRY_ARTIFACT_LOCATION=

# S3/MinIO Configuration (optional)
REGISTRY_AWS_ACCESS_KEY_ID=
REGISTRY_AWS_SECRET_ACCESS_KEY=
REGISTRY_AWS_REGION=us-east-1
REGISTRY_S3_ENDPOINT_URL=

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=false
API_RELOAD=false
API_TITLE="FinBERT Sentiment Analysis API"
API_DESCRIPTION="RESTful API for financial sentiment analysis using fine-tuned FinBERT"
API_VERSION=1.0.0

# Model Configuration
API_MODEL_PATH=outputs/model
API_PREPROCESSING_CONFIG_PATH=outputs/preprocessing_config.json
API_LABEL_MAPPING_PATH=outputs/id2label.json

# Inference Settings
API_MAX_BATCH_SIZE=32
API_MAX_TEXT_LENGTH=512
API_DEVICE=auto

# CORS Settings
API_ALLOW_ORIGINS=["*"]
API_ALLOW_CREDENTIALS=true
API_ALLOW_METHODS=["*"]
API_ALLOW_HEADERS=["*"]

# Performance Settings
API_WORKERS=1
API_TIMEOUT=30

# Logging
LOG_LEVEL=INFO
