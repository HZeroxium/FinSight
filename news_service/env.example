# =============================================================================
# NEWS SERVICE - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and customize for your environment
# All variables support environment variable override

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================
# Application name and version
APP_NAME=news-service
DEBUG=false
ENVIRONMENT=development

# Network binding
HOST=0.0.0.0
PORT=8000

# =============================================================================
# GRPC CONFIGURATION
# =============================================================================
# Enable/disable gRPC server
ENABLE_GRPC=true

# gRPC server binding
GRPC_HOST=0.0.0.0
GRPC_PORT=50051

# gRPC performance settings
GRPC_MAX_WORKERS=10
GRPC_MAX_RECEIVE_MESSAGE_LENGTH=4194304
GRPC_MAX_SEND_MESSAGE_LENGTH=4194304

# =============================================================================
# EUREKA CLIENT CONFIGURATION
# =============================================================================
# Enable/disable Eureka client registration
ENABLE_EUREKA_CLIENT=true

# Eureka server connection
EUREKA_SERVER_URL=http://localhost:8761
EUREKA_APP_NAME=news-service

# Instance identification
EUREKA_INSTANCE_ID=
EUREKA_HOST_NAME=
EUREKA_IP_ADDRESS=
EUREKA_PORT=8000
EUREKA_SECURE_PORT=8443
EUREKA_SECURE_PORT_ENABLED=false

# Instance URLs
EUREKA_HOME_PAGE_URL=
EUREKA_STATUS_PAGE_URL=
EUREKA_HEALTH_CHECK_URL=

# VIP addresses
EUREKA_VIP_ADDRESS=
EUREKA_SECURE_VIP_ADDRESS=
EUREKA_PREFER_IP_ADDRESS=true

# =============================================================================
# EUREKA TIMING CONFIGURATION
# =============================================================================
# Lease management
EUREKA_LEASE_RENEWAL_INTERVAL_IN_SECONDS=30
EUREKA_LEASE_EXPIRATION_DURATION_IN_SECONDS=90

# Registry operations
EUREKA_REGISTRY_FETCH_INTERVAL_SECONDS=30
EUREKA_INSTANCE_INFO_REPLICATION_INTERVAL_SECONDS=30
EUREKA_INITIAL_INSTANCE_INFO_REPLICATION_INTERVAL_SECONDS=40

# Heartbeat settings
EUREKA_HEARTBEAT_INTERVAL_SECONDS=30

# =============================================================================
# EUREKA RETRY CONFIGURATION
# =============================================================================
# Registration retry settings
EUREKA_REGISTRATION_RETRY_ATTEMPTS=3
EUREKA_REGISTRATION_RETRY_DELAY_SECONDS=5

# Heartbeat retry settings
EUREKA_HEARTBEAT_RETRY_ATTEMPTS=3
EUREKA_HEARTBEAT_RETRY_DELAY_SECONDS=2

# Retry backoff configuration
EUREKA_RETRY_BACKOFF_MULTIPLIER=2.0
EUREKA_MAX_RETRY_DELAY_SECONDS=60

# Auto-reregistration
EUREKA_ENABLE_AUTO_RE_REGISTRATION=true
EUREKA_RE_REGISTRATION_DELAY_SECONDS=10

# =============================================================================
# EXTERNAL API CONFIGURATION
# =============================================================================
# Tavily search engine API key
TAVILY_API_KEY=

# Admin API secret key
SECRET_API_KEY=

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Database environment selection (local/cloud)
DATABASE_ENVIRONMENT=local

# MongoDB local connection
MONGODB_LOCAL_URL=mongodb://localhost:27017
MONGODB_LOCAL_DATABASE=finsight_coindesk_news

# MongoDB cloud connection (Atlas)
MONGODB_CLOUD_URL=
MONGODB_CLOUD_DATABASE=finsight_news

# Collection configuration
MONGODB_COLLECTION_NEWS=news_items

# =============================================================================
# MONGODB CONNECTION OPTIONS
# =============================================================================
# Connection timeouts and pool settings
MONGODB_CONNECTION_TIMEOUT=10000
MONGODB_SERVER_SELECTION_TIMEOUT=5000
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=1

# =============================================================================
# RABBITMQ CONFIGURATION
# =============================================================================
# RabbitMQ connection URL
RABBITMQ_URL=amqp://guest:guest@localhost:5672/

# Exchange configuration
RABBITMQ_ARTICLE_EXCHANGE=news_crawler_exchange
RABBITMQ_ANALYTICS_EXCHANGE=analytics_exchange

# Queue configuration
RABBITMQ_QUEUE_RAW_ARTICLES=raw_articles_queue
RABBITMQ_QUEUE_PROCESSED_SENTIMENTS=processed_sentiments_queue

# Routing key configuration
RABBITMQ_ROUTING_KEY_ARTICLE_SENTIMENT=article.sentiment_analysis
RABBITMQ_ROUTING_KEY_SENTIMENT_PROCESSED=sentiment.processed
RABBITMQ_ROUTING_KEY_SEARCH_EVENT=search.event

# =============================================================================
# CRAWLER CONFIGURATION
# =============================================================================
# Advanced crawling features
ENABLE_ADVANCED_CRAWLING=true

# Performance settings
MAX_CONCURRENT_CRAWLS=10
CRAWL_TIMEOUT=30
CRAWL_RETRY_ATTEMPTS=3

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
# Enable/disable caching
ENABLE_CACHING=true

# Cache TTL in seconds
CACHE_TTL_SECONDS=300

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================
# Redis connection settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Redis key prefix for news service
REDIS_KEY_PREFIX=news-service

# Redis connection timeouts
REDIS_CONNECTION_TIMEOUT=5
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Redis connection options
REDIS_SOCKET_KEEPALIVE=true
REDIS_RETRY_ON_TIMEOUT=true
REDIS_MAX_CONNECTIONS=10

# =============================================================================
# CACHE TTL CONFIGURATION
# =============================================================================
# TTL settings for different endpoints (in seconds)
CACHE_TTL_SEARCH_NEWS=1800
CACHE_TTL_RECENT_NEWS=900
CACHE_TTL_NEWS_BY_SOURCE=1800
CACHE_TTL_NEWS_BY_KEYWORDS=1200
CACHE_TTL_NEWS_BY_TAGS=1800
CACHE_TTL_AVAILABLE_TAGS=3600
CACHE_TTL_REPOSITORY_STATS=600
CACHE_TTL_NEWS_ITEM=7200

# =============================================================================
# CACHE INVALIDATION CONFIGURATION
# =============================================================================
# Enable/disable cache invalidation
CACHE_INVALIDATION_ENABLED=true

# Cache invalidation pattern
CACHE_INVALIDATION_PATTERN=news-service:*

# Delay before cache invalidation (seconds)
CACHE_INVALIDATION_DELAY_SECONDS=5

# =============================================================================
# RATE LIMITING
# =============================================================================
# Maximum requests per minute
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# =============================================================================
# CRON JOB CONFIGURATION
# =============================================================================
# Enable/disable cron job
CRON_JOB_ENABLED=true

# Cron schedule (every 6 hours by default)
CRON_JOB_SCHEDULE=0 */6 * * *

# Job limits and configuration
CRON_JOB_MAX_ITEMS_PER_SOURCE=100
CRON_JOB_SOURCES=coindesk,cointelegraph
CRON_JOB_CONFIG_FILE=news_crawler_config.json
CRON_JOB_PID_FILE=news_crawler_job.pid
CRON_JOB_LOG_FILE=logs/news_crawler_job.log

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level and file settings
LOG_LEVEL=INFO
LOG_FILE_PATH=logs/

# Structured logging
ENABLE_STRUCTURED_LOGGING=true